<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Authentification...</title>
</head>
<body>
<p>Redirection...</p>
<script type="module">
  import { supabase } from './supabase.js';

  (async () => {
    try {
      // Récupère le hash #access_token=... et stocke la session
      const { data, error } = await supabase.auth.getSessionFromUrl({ storeSession: true });
      if (error) console.warn("Erreur getSessionFromUrl:", error.message);
    } catch(e) {
      console.error(e);
    }
    // Redirection vers index.html
    window.location.href = "index.html";
  })();
</script>
</body>
</html>
