<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DigitalTables – Gestion des invités</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="logo-title">
        <img src="images/Logo.jpg" alt="Logo DigitalTables" class="logo" />
        <h1>DigitalTables</h1>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h2>Attribuez facilement les tables de vos invités</h2>
      <p>Upload CSV, choisissez privé/public, et partagez le lien.</p>
    </div>
  </section>

  <div style="text-align:center; margin-top:1rem;">
    <button id="logout" style="display:none;">Se déconnecter</button>
  </div>

  <div id="auth" style="text-align:center; margin-top:2rem;">
    <h3>Connexion / Inscription</h3>
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Mot de passe" />
    <button id="signup">Créer un compte</button>
    <button id="login">Se connecter</button>
  </div>

  <div id="upload" style="display:none; text-align:center; margin-top:2rem;">
    <div style="margin-bottom:1rem;">
      <label for="username" style="display:block; font-weight:700;">Identifiant public (sera dans l'URL)</label>
      <input type="text" id="username" placeholder="ex: liowillis" />
      <div id="usernameStatus" style="margin-top:0.25rem; font-size:0.9rem;"></div>
    </div>

    <div style="margin-bottom:1rem;">
      <label><input type="checkbox" id="privateCsv" /> Événement privé (protégé par mot de passe)</label>
      <div id="passwordDiv" style="display:none; margin-top:0.5rem;">
        <input type="password" id="eventPassword" placeholder="Mot de passe (si privé)" />
      </div>
    </div>

    <h3>Uploader CSV & images</h3>
    <input type="file" id="guests" accept=".csv" /><br><br>
    <input type="file" id="images" accept="image/*" multiple /><br><br>
    <button id="send">Envoyer</button>

    <div id="publicUrl" style="margin-top:1rem; font-size:0.9rem; word-break:break-all;"></div>
  </div>

  <footer>
    <div class="container">
      <p>© DigitalTables</p>
    </div>
  </footer>

  <script type="module" src="supabase.js"></script>
</body>
</html>
