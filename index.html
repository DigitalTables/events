<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Digital Tables - Tableau de bord</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="supabase.js"></script>
</head>

<body>
  <div class="container">
    <h1>🎉 Digital Tables</h1>

    <div id="auth-section">
      <h2>Connexion</h2>
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Mot de passe" />
      <button id="login-btn">Se connecter</button>
      <button id="signup-btn">Créer un compte</button>
    </div>

    <div id="dashboard" style="display:none;">
      <div class="logout-bar">
        <p id="welcome-text"></p>
        <button id="logout-btn">Se déconnecter</button>
      </div>

      <h2>Créer un nouvel événement</h2>

      <label for="username">Nom de l'événement (sera visible dans l'URL) :</label>
      <input type="text" id="username" placeholder="ex: mariage-julie-paul" />

      <div id="username-status" style="font-size:0.9em;margin-bottom:10px;"></div>

      <label for="event-password">Mot de passe (si privé) :</label>
      <input type="password" id="event-password" placeholder="Laisser vide si public" />

      <label>
        <input type="checkbox" id="private-event" />
        Événement privé
      </label>

      <br><br>

      <label for="csv-file">Fichier invités (guests.csv) :</label>
      <input type="file" id="csv-file" accept=".csv" />

      <button id="upload-btn">📤 Uploader le CSV</button>

      <div id="upload-status"></div>
      <div id="event-link" style="margin-top:20px;"></div>
    </div>
  </div>
</body>
</html>
