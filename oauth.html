<!DOCTYPE html>
<html>
<body>
<script>
  const hash = window.location.hash.substring(1);
  const params = new URLSearchParams(hash);
  const accessToken = params.get("access_token");
  const error = params.get("error");

  if (accessToken) {
    window.opener.postMessage(
      { type: "oauth-success", access_token: accessToken },
      "*"
    );
  } else {
    window.opener.postMessage(
      { type: "oauth-error", error: error || "Unknown error" },
      "*"
    );
  }

  window.close();
</script>
</body>
</html>
